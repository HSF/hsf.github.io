---
title: "HSF Generator Workshop follow-up meeting, 11 December 2018"
layout: meetings
---
# {{page.title}}

## Post-Workshop
  - Short presentation done (Graeme) at the WLCG Overview Board
  - Presentation in last week’s ATLAS Weekly meeting (Simone A) and
    talk from Josh in this week’s ATLAS Software and Computing
    Workshop
  - Common themes…
      - Following up on GPU versions of the code
      - Support for generator codes from experiments / software
        engineers
  - Tangential: Frameworks paper being published to arXiv.
      - Would there be interest in writing the CWP generators paper as
        an outcome?
  - Write up **proceedings of workshop** (technical)?
      - Sounds like we could weave in original generator CWP paper,
        but we are further on.
      - Sets a good baseline.
      - Peer review from workshop participants, to put on arXiv.
      - Physics motivation is a key driver, but hard to be answer in
        any definitive way. Then describe benchmarking.
      - Target outline for before the end of the year. Finish
        proceedings end of January.

## Take Home Messages / Actions / Planning
  - **Generator performance comparisons work**
      - Broaden this activity
      - Understand differences between ATLAS and CMS - e.g. two things
        to understand
          - Comparison of sherpa and MG for the same process
          - Are the two experiments producing very different types of
            samples or configurations? Is ATLAS producing more or more
            expensive events?
          - How much is “user driven”? Learn from databases.
              - Samples requested
              - Generators used
                  - With parameters…?
                  - Benchmarks
                  - Is it possible to actually get apples-apples
                    comparisons? (also consider phase-space slicing)
          - Document these setups in github so anyone can re-run them
  - LHCb is different from ATLAS/CMS as generation focuses on decays
  - Regression tests (for physics results AND timing performance) and
    best code practice
      - The HSF can help with this (a lot of technical experts)
      - Can the experiments help with their infrastructure for timing
        regression?
  - Projection of CPU needs for Run4
      - The fractional budget of event generation will increase as
        experiments move to fast simulation and faster reconstruction
      - Model for use of LO, NLO and NNLO?
      - Tails will be rather important.
  - Best ways to support technical work in generator field
      - Experiments
          - Joint PhD students (CDTs in UK)
          - Lab positions
      - Engineers (how to fund this - grant applications?)
      - Prospects for ‘permanent’ jobs (i.e. not just two year grants)
          - Talking to senior management about this
          - Real career prospects for people doing this
      - **Iterate again between ATLAS/CMS and Generator Groups**
      - BEST4HEP ITN somewhat related
  - Generators critical part of what experiments do. Aware that
    “reward system” has limitations, need to improve on this.
      - Physics improvements are what gets noticed in the theory
        community and therefore gets funding and jobs. Example
        speed/memory improvement in Herwig (matrix elements and NLO
        integration) would be “many years of work for little
        recognition”. (see Peter’s presentation)
      - **Referencing can be improved**.
          - Citations to general papers rather than specific ones
            where large improvements were made.
          - Important to cite papers with few authors where individual
            contributions can be easily recognized (rather than annual
            papers with all updates that came during one year). Many
            physics processes generated by the experiments rely on
            specific improvements and massages on the generators for
            those specific channels and precisions.
          - Simon: I think the important point is a fair citation
            policy, which in my opinion is hard to achieve by a rule
            of thumb. It is really up to the event generator's authors
            to convey to the experiments/users what should be cited,
            including all relevant publications -- this is where we
            need to improve. I think the minutes should reflect this.
  - GPU ports / code portability? Are experiments interested in
    using/validating, particularly Madgraph. **ATLAS yes**. We should
    try this (get MG team to minimally validate).
      - Supercomputers/HPCs are going more and more towards GPUs.
      - At the moment not so incentivised for the generator teams.
  - A dedicated performance workshop in the future (Spring?)
      - Say 5 days of real hands-on work
      - Spring too early, but still useful - benchmarklng is a
        preparation.
  - Negative weights are a problem (but only in NLO, there are none in
    LO). These come from cancellations of real and virtual
    contributions and are unavoidable. “Unweighted” events with
    negative weights means that events have weight +1 or -1
    essentially.
      - Need better metrics to understand the impact of negative
        weights. Example: scalar metrics integrating the knowledge of
        the weight distribution and also the relative cost (in CPU
        budget) of detector simulation vs generation.
      - Mainly need this for V+jets and ttbar
  - Can a common hook be added to generators so that we can set
    generator level cuts in a standard way? (Ask Zach?)
      - Cuts “easy”, but how to make that efficient? Bias to the
        events that will be accepted.
  - Experiments sharing inputs
      - Start with integration grids? These are smaller and more
        flexible.
      - LHEFs slightly more complicated.
      - One additional selling point and possible solution to the
        statistical correlation issue would be for experiments can
        make each others systematic uncertainty samples (if such
        samples are anyway used on each side).
  - HSF has Working Groups in important areas of work for HEP. This
    area could benefit from the same.
      - Some convenors willing to carry this forward and organise?
          - **Andrea, Steve, Josh, Taylor, Stefan**
      - Collaboration with LPCC has been very fruitful - should be
        joint activity
          - **Get in touch with Michelangelo again**
      - **Over to the convenors to now set the pace\!**
  - Timescales
      - **Target a conference** like CHEP 2019 (Adelaide). Abstracts
        in the Spring.
