---
title: MadAnalysis 5 - Integration of theoretical uncertainty calculation with multiweight integration
layout: gsoc_proposal
project: MadAnalysis 5
year: 2022
difficulty: medium
duration: 350
mentor_avail: June-October
organization:
  - LPTHE
  - IPPP
  - IPHC
---

# Description

MadAnalysis 5 is a framework for phenomenological investigations at particle colliders. 
Based on a C++ kernel, this program allows to efficiently perform, in a straightforward and user-friendly 
fashion, sophisticated physics analyses of event files such as those generated by a large class of 
Monte Carlo (MC) event generators. MadAnalysis 5 comes with two modes of running. The first one, easier 
to handle, uses the strengths of a powerful Python interface to implement the analysis utilizing a set of 
intuitive commands. The second one requires implementing the analysis in the C++ programming language 
directly within the core of the analysis framework. This opens unlimited possibilities concerning the 
level of complexity that can be reached by the analysis, which is only limited by the programming skills 
and the originality of the user.

Monte Carlo is a method for sampling high-dimensional parameter spaces. The method requires knowledge of 
the weight function determining the probability that a state is observed. Due to 
the various unknowns in the event generation process, a collision event generated by an MC event generator
carries various uncertainties, i.e. scale and PDF uncertainties. Currently, MadAnalysis 5 framework can 
only use constant uncertainty values for the entire event sample, which is then used in the reinterpretation
of the exclusion limits of a given BSM model (for details 
[see this study](https://link.springer.com/article/10.1140/epjc/s10052-020-8076-6)). This project will 
focus on generalizing the uncertainty module within MadAnalysis 5, where instead of using overall 
uncertainties for a given sample, each event will be assigned with an uncertainty value corresponding to 
its phase-space. This will allow MadAnalysis 5 framework to mitigate the phase space information through 
uncertainties and calculate more accurate exclusion limits.


## Task ideas

This project will involve the redesign of the current data structure for event weights. 
MadAnalysis 5 is capable of reading all the weights presented in an MC event sample; however, these 
uncertainties are not mitigated to cut-flow and histogram classes where these modules are only executed 
with the nominal weight of the event. The new data structure design of weights will be integrated with 
cut-flow and histogramming modules to include the complete uncertainty information while preserving the 
backwards compatibility of the current interface.

## Expected results & Milestones

- Understanding MadAnalysis 5 expert module structure and developing a local prototype of a Weight 
datastructure, independent from MadAnalysis 5 backend.
- Integrating the new data structure for weight handling in MadAnalysis 5.
- Integrating weight handling modules for cut-flow and histogramming interfaces.
- Comparing the effect of previous uncertainty implementation to the new dynamic one by reinterpreting 
exclusion limits on a validated LHC recast within MadAnalysis 5 framework.

## Requirements

* Strong C++ skills
* Python
* git


## Mentors

* **[Benjamin Fuks](mailto:fuks@lpthe.jussieu.fr)**
* [Jack Y. Araz](mailto:jack.araz@durham.ac.uk)
* [Eric Conte](mailto:eric.conte@iphc.cnrs.fr)


## Links

* [MadAnalysis 5](http://madanalysis.irmp.ucl.ac.be)
* [GitHub page](https://github.com/MadAnalysis/madanalysis5)
