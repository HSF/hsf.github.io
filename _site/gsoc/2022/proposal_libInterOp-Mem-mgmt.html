<!DOCTYPE html>
<html>
<head lang="en">
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1 user-scalable=no">
    <title>Implement libInterOp API exposing memory, ownership and thread safety information</title>
    <link rel="icon" type="image/x-icon" href="/images/hsf_logo_angled.png">

    <!-- bootstrap framework -->
    <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootswatch/3.3.5/flatly/bootstrap.min.css">

    <link rel="stylesheet" href="/css/hsf.css" type="text/css" />
</head>
<body>

<div class="navbar navbar-default">
    <div class="container">
        <div class="navbar-header">
          <a href="/" class="navbar-brand"><span class="glyphicon glyphicon-home"></span>&nbsp;&nbsp;HSF</a>
          <button class="navbar-toggle" type="button" data-toggle="collapse" data-target="#navbar-main">
            <span class="icon-bar"></span>
            <span class="icon-bar"></span>
            <span class="icon-bar"></span>
          </button>
        </div>
        <div class="navbar-collapse collapse" id="navbar-main">
          <ul class="nav navbar-nav navbar-center">
            <li class="dropdown">
              <a class="dropdown-toggle" data-toggle="dropdown" href="/index.html" id="wg_menu"><span class="glyphicon glyphicon-briefcase"></span>&nbsp;&nbsp;Working Groups<span class="caret"></span></a>
                <ul class="dropdown-menu" aria-labelledby="activities_menu">
                  <li><a href="/what_are_WGs.html">What are HSF working groups?</a></li>
                  <li class="divider"></li>
                  
                    <li><a href="/workinggroups/dataanalysis.html">Data Analysis</a></li>
                  
                    <li><a href="/workinggroups/detsim.html">Detector Simulation</a></li>
                  
                    <li><a href="/workinggroups/frameworks.html">Frameworks</a></li>
                  
                    <li><a href="/workinggroups/generators.html">Physics Generators</a></li>
                  
                    <li><a href="/workinggroups/juliahep.html">JuliaHEP - Julia in HEP</a></li>
                  
                    <li><a href="/workinggroups/pyhep.html">PyHEP - Python in HEP</a></li>
                  
                    <li><a href="/workinggroups/recotrigger.html">Reconstruction and Software Triggers</a></li>
                  
                    <li><a href="/workinggroups/toolsandpackaging.html">Software Developer Tools and Packaging</a></li>
                  
                    <li><a href="/workinggroups/training.html">HSF Training</a></li>
                  
               </ul>
            </li>
            <li class="dropdown">
              <a class="dropdown-toggle" data-toggle="dropdown" href="/index.html" id="activities_menu"><span class="glyphicon glyphicon-briefcase"></span>&nbsp;&nbsp;Activities<span class="caret"></span></a>
                <ul class="dropdown-menu" aria-labelledby="activities_menu">
                 <li><a href="/what_are_activities.html">What are HSF activity areas?</a></li>
                 <li class="divider"></li>
                 
                   <li><a href="/activities/analysisfacilitiesforum.html">Analysis Facilities Forum</a></li>
                 
                   <li><a href="/activities/conditionsdb.html">Conditions Databases</a></li>
                 
                   <li><a href="/activities/differentiablecomputing.html">Differentiable Computing</a></li>
                 
                   <li><a href="/activities/gsdocs.html">Season of Docs</a></li>
                 
                   <li><a href="/activities/gsoc.html">Google Summer of Code</a></li>
                 
                   <li><a href="/activities/idds.html">intelligent Data Delivery Service</a></li>
                 
                   <li><a href="/activities/licensing.html">Licensing</a></li>
                 
                   <li><a href="/activities/reviews.html">Reviews</a></li>
                 
                   <li><a href="/activities/visualization.html">Visualisation</a></li>
                 
               </ul>
            </li>
            <li class="dropdown">
              <a class="dropdown-toggle" data-toggle="dropdown" href="/index.html" id="meetings_menu"><span class="glyphicon glyphicon-phone-alt"></span>&nbsp;&nbsp;Meetings<span class="caret"></span></a>
                <ul class="dropdown-menu" aria-labelledby="activities_menu">
                 
                   <li><a href="/meetings/compute-accelerator-forum.html">Compute Accelerator Forum</a></li>
                 
                   <li><a href="/meetings/coordination.html">Coordination Meetings</a></li>
                 
                   <li><a href="/meetings/roundtable.html">Software and Computing Roundtable</a></li>
                 
                   <li><a href="/meetings/software-forum.html">Software Forum</a></li>
                 
               </ul>
            </li>
            <li class="dropdown">
              <a class="dropdown-toggle" data-toggle="dropdown" href="/index.html" id="communication_menu"><span class="glyphicon glyphicon-bullhorn"></span>&nbsp;&nbsp;Communication<span class="caret"></span></a>
                <ul class="dropdown-menu" aria-labelledby="communication_menu">
                  <li><a href="/future-events.html">Community Calendar</a></li>
                  <li><a href="https://indico.cern.ch/category/5816/" target="_hsf_indico">Meetings: Indico</a></li>
                  <li><a href="/Schools/events.html">Training Schools</a></li>
                  <li class="divider"></li>
                  <li><a href="/forums.html">Mailing Lists and Forums</a></li>
                  <li><a href="/organization/minutes.html">Meeting Notes</a></li>
                  <li><a href="/technical_notes.html">Technical Notes</a></li>
                  <li><a href="/organization/documents.html">Documents</a></li>
                  <li><a href="/material_for_presentations.html">Material for presentations</a></li>
                  <li class="divider"></li>
                  <li><a href="/newsletter.html">Newsletters</a></li>
                  <li><a href="/events.html">Events &amp; Workshops</a></li>
                  <li><a href="https://www.youtube.com/c/HEPSoftwareFoundation" target="_hsf_youtube">HSF on YouTube</a></li>
                  <li class="divider"></li>

                  <li><a href="/inventory/inventory.html">HSF Project Inventory</a></li>
                </ul>
            </li>
            <li class="dropdown">
              <a class="dropdown-toggle" data-toggle="dropdown" href="/projects.html" id="projects_menu"><span class="glyphicon glyphicon-road"></span>&nbsp;&nbsp;Projects &amp; Support<span class="caret"></span></a>
                <ul class="dropdown-menu" aria-labelledby="projects_menu">
                  <li><a href="/project_guidelines.html">How to join as a project</a></li>
                  <li><a href="/projects.html">Member Projects</a></li>
                  <li class="divider"></li>
                  <li><a href="/services.html">Development Services</a></li>
                </ul>
            </li>
          </ul>
          <ul class="nav navbar-nav navbar-right">
            <li class="dropdown">
              <a class="dropdown-toggle" data-toggle="dropdown" href="/index.html" id="about_menu"><span class="glyphicon glyphicon-info-sign"></span>&nbsp;&nbsp;About<span class="caret"></span></a>
              <ul class="dropdown-menu" aria-labelledby="about_menu">
                <li><a href="/get_involved.html">Get involved!</a><li>
                <li><a href="/organization/team.html">The Coordination Team</a></li>
                <li><a href="/organization/planning/plan-of-work-2023.html">HSF Planning</a></li>
                <li class="divider"></li>
                <li><a href="/organization/goals.html">Goals of the HSF</a></li>
                <li><a href="/organization/cwp.html">Community White Paper</a></li>
                <li><a href="/organization/hsf-letters.html">Letters from the HSF</a></li>
                <li><a href="/organization/presentations.html">HSF Presentations</a></li>
                <li><a href="/organization/youtube.html">HSF YouTube Channel</a></li>
                <li class="divider"></li>
                <li><a href="/howto-website.html">Website Howto</a></li>
              </ul>
            </li>
          </ul>
        </div>
    </div>
</div>


<div class="container">

  <div class="blog-header">
  <h1 class="blog-title">Implement libInterOp API exposing memory, ownership and thread safety information</h1>
</div>

  <h2 id="description">Description</h2>

<p>Incremental compilation pipelines process code chunk-by-chunk by building an
ever-growing translation unit. Code is then lowered into the LLVM IR and
subsequently run by the LLVM JIT. Such a pipeline allows creation of efficient
interpreters. The interpreter enables interactive exploration and makes the C++
language more user friendly. The incremental compilation mode is used by the
interactive C++ interpreter, Cling, initially developed to enable interactive
high-energy physics analysis in a C++ environment.</p>

<p>Clang and LLVM provide access to C++ from other programming languages, but
currently only exposes the declared public interfaces of such C++ code even when
it has parsed implementation details directly. Both the high-level and the
low-level program representation has enough information to capture and expose
more of such details to improve language interoperability. Examples include
details of memory management, ownership transfer, thread safety, externalized
side-effects, etc. For example, if memory is allocated and returned, the caller
needs to take ownership; if a function is pure, it can be elided; if a call
provides access to a data member, it can be reduced to an address lookup. The
goal of this project is to develop API for libInterOp which are capable of
extracting and exposing such information AST or from JIT-ed code and use it in
cppyy (Python-C++ language bindings) as an exemplar. If time permits, extend the
work to persistify this information across translation units and use it on code
compiled with Clang.</p>

<h2 id="task-ideas">Task ideas</h2>

<p>There are several foreseen tasks:</p>
<ul>
  <li>Collect and categorize possible exposed interop information kinds</li>
  <li>Write one or more facilities to extract necessary implementation details</li>
  <li>Design a language-independent interface to expose this information</li>
  <li>Integrate the work in clang-repl and Cling</li>
  <li>Implement and demonstrate its use in cppyy as an exemplar</li>
  <li>Present the work at the relevant meetings and conferences.</li>
</ul>

<h2 id="technology">Technology</h2>

<p>C/C++, Python, Clang, LLVM, Cling, Clang-Repl</p>

<h2 id="desirable-skills">Desirable Skills</h2>

<ul>
  <li>Necessary knowledge: C++ programming; data structures and algorithms.</li>
  <li>Basic knowledge of Clang and LLVM</li>
  <li>Basic knowledge of Python;</li>
  <li>Experience with GPU programming would be an asset.</li>
</ul>

<h2 id="expected-results">Expected results</h2>

<p>Develop a facility which is able to detect memory allocation and deletion
  patterns and provide an API able to expose this information to users. If time
  permits develop facilities which capture information such as ownership
  transfer, thread safety and side-effects.</p>

<h2 id="candidate-guidelines-and-evaluation">Candidate Guidelines and Evaluation</h2>

<p>If you have interest in working on the project there is a list of things to do
in order to maximize your chances to get selected:</p>

<ol>
  <li>Contact the mentors and express interest in the project. Make sure you attach
your CV;</li>
  <li>Download the source code of the cppyy, clang and llvm projects, build it and
run the demos;</li>
  <li>Start familiarizing yourself with the codebase;</li>
  <li>If you have questions you can always contact a mentor.</li>
</ol>

<p>The mentors are interested in working with all candidates but unfortunately the
rules allow only one to be selected. There are a few tasks which give bonus
points to candidate’s application:</p>
<ul>
  <li>Submit a valid bug – demonstrates that the candidate has completed step 2
and 3 from the previous section.</li>
  <li>Fix a bug – demonstrates the technical skills of the candidate and shows
he/she can work independently on the project. The mentors can suggest looking
at the bugtracker<a href="https://bitbucket.org/wlav/cppyy/issues?status=new&amp;status=open">here</a>.
Fixing one issue may be enough to become a successful candidate.</li>
</ul>

<h2 id="mentors">Mentors</h2>
<ul>
  <li><strong><a href="mailto:baidyanath.kundu@cern.ch">Baidyanath Kundu</a></strong> (Princeton)</li>
  <li><a href="mailto:wlavrijsen@lbl.gov">Wim Lavrijsen</a> (LBL)</li>
  <li><a href="mailto:vvasilev@cern.ch">Vassil Vassilev</a> (Princeton)</li>
</ul>

<h2 id="links">Links</h2>

<p><a href="https://compiler-research.org">Compiler-Research</a>
<a href="https://compiler-research.org/libinterop/">libInterOp</a>
<a href="https://root.cern/blog/cling-in-llvm/">clang-repl</a>
<a href="https://github.com/root-project/cling">cling</a>
<a href="https://cppyy.readthedocs.io/en/latest/">cppyy</a>
<a href="https://llvm.org/">llvm</a>
<a href="https://clang.llvm.org/">clang</a></p>



<h2>Additional Information</h2>
  <ul>
      <li>Difficulty level (low / medium / high): high</li>
      <li>Duration: 350 hours</li>
      <li>Mentor availability: May-September</li>
  </ul>


<h2>Corresponding Project</h2>
  <ul>
      <li><a href="/gsoc/projects/2022/project_Compiler-Research.html">Compiler-Research</a></li>
  </ul>

 <h2>Participating Organizations</h2>
  <ul>
  
<li><a href="/gsoc/organizations/2022/princeton.html">princeton</a> </li>
  
  </ul>


<br><br>
<hr>
<div class="footer fixed-bottom">
<a href="https://github.com/HSF/hsf.github.io/edit/main/_gsocproposals/2022/proposal_libInterOp-Mem-mgmt.md"><i class="glyphicon glyphicon-wrench"></i> Improve this page. </a>
Thanks to <a href="https://pages.github.com/">GitHub Pages</a>, <a href="http://jekyllrb.com/">Jekyll</a> and <a href="http://getbootstrap.com/">Bootstrap</a>.
</div>

</div> <!-- container -->


<!-- Google Analytics -->

<!-- Google Analytics end -->

<script src="https://code.jquery.com/jquery-2.1.4.min.js"></script>
<script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.4/js/bootstrap.min.js"></script>
</body>
</html>
