<!DOCTYPE html>
<html>
<head lang="en">
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1 user-scalable=no">
    <title>Integration of the HDF5 file format within the LHCb analysis framework</title>
    <link rel="icon" type="image/x-icon" href="/images/hsf_logo_angled.png">

    <!-- bootstrap framework -->
    <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootswatch/3.3.5/flatly/bootstrap.min.css">

    <link rel="stylesheet" href="/css/hsf.css" type="text/css" />
</head>
<body>

<div class="navbar navbar-default">
    <div class="container">
        <div class="navbar-header">
          <a href="/" class="navbar-brand"><span class="glyphicon glyphicon-home"></span>&nbsp;&nbsp;HSF</a>
          <button class="navbar-toggle" type="button" data-toggle="collapse" data-target="#navbar-main">
            <span class="icon-bar"></span>
            <span class="icon-bar"></span>
            <span class="icon-bar"></span>
          </button>
        </div>
        <div class="navbar-collapse collapse" id="navbar-main">
          <ul class="nav navbar-nav navbar-center">
            <li class="dropdown">
              <a class="dropdown-toggle" data-toggle="dropdown" href="/index.html" id="wg_menu"><span class="glyphicon glyphicon-briefcase"></span>&nbsp;&nbsp;Working Groups<span class="caret"></span></a>
                <ul class="dropdown-menu" aria-labelledby="activities_menu">
                  <li><a href="/what_are_WGs.html">What are HSF working groups?</a></li>
                  <li class="divider"></li>
                  
                    <li><a href="/workinggroups/dataanalysis.html">Data Analysis</a></li>
                  
                    <li><a href="/workinggroups/detsim.html">Detector Simulation</a></li>
                  
                    <li><a href="/workinggroups/frameworks.html">Frameworks</a></li>
                  
                    <li><a href="/workinggroups/generators.html">Physics Generators</a></li>
                  
                    <li><a href="/workinggroups/juliahep.html">JuliaHEP - Julia in HEP</a></li>
                  
                    <li><a href="/workinggroups/pyhep.html">PyHEP - Python in HEP</a></li>
                  
                    <li><a href="/workinggroups/recotrigger.html">Reconstruction and Software Triggers</a></li>
                  
                    <li><a href="/workinggroups/toolsandpackaging.html">Software Developer Tools and Packaging</a></li>
                  
                    <li><a href="/workinggroups/training.html">HSF Training</a></li>
                  
               </ul>
            </li>
            <li class="dropdown">
              <a class="dropdown-toggle" data-toggle="dropdown" href="/index.html" id="activities_menu"><span class="glyphicon glyphicon-briefcase"></span>&nbsp;&nbsp;Activities<span class="caret"></span></a>
                <ul class="dropdown-menu" aria-labelledby="activities_menu">
                 <li><a href="/what_are_activities.html">What are HSF activity areas?</a></li>
                 <li class="divider"></li>
                 
                   <li><a href="/activities/analysisfacilitiesforum.html">Analysis Facilities Forum</a></li>
                 
                   <li><a href="/activities/conditionsdb.html">Conditions Databases</a></li>
                 
                   <li><a href="/activities/differentiablecomputing.html">Differentiable Computing</a></li>
                 
                   <li><a href="/activities/gsdocs.html">Season of Docs</a></li>
                 
                   <li><a href="/activities/gsoc.html">Google Summer of Code</a></li>
                 
                   <li><a href="/activities/idds.html">intelligent Data Delivery Service</a></li>
                 
                   <li><a href="/activities/licensing.html">Licensing</a></li>
                 
                   <li><a href="/activities/reviews.html">Reviews</a></li>
                 
                   <li><a href="/activities/visualization.html">Visualisation</a></li>
                 
               </ul>
            </li>
            <li class="dropdown">
              <a class="dropdown-toggle" data-toggle="dropdown" href="/index.html" id="meetings_menu"><span class="glyphicon glyphicon-phone-alt"></span>&nbsp;&nbsp;Meetings<span class="caret"></span></a>
                <ul class="dropdown-menu" aria-labelledby="activities_menu">
                 
                   <li><a href="/meetings/compute-accelerator-forum.html">Compute Accelerator Forum</a></li>
                 
                   <li><a href="/meetings/coordination.html">Coordination Meetings</a></li>
                 
                   <li><a href="/meetings/roundtable.html">Software and Computing Roundtable</a></li>
                 
                   <li><a href="/meetings/software-forum.html">Software Forum</a></li>
                 
               </ul>
            </li>
            <li class="dropdown">
              <a class="dropdown-toggle" data-toggle="dropdown" href="/index.html" id="communication_menu"><span class="glyphicon glyphicon-bullhorn"></span>&nbsp;&nbsp;Communication<span class="caret"></span></a>
                <ul class="dropdown-menu" aria-labelledby="communication_menu">
                  <li><a href="/future-events.html">Community Calendar</a></li>
                  <li><a href="https://indico.cern.ch/category/5816/" target="_hsf_indico">Meetings: Indico</a></li>
                  <li><a href="/Schools/events.html">Training Schools</a></li>
                  <li class="divider"></li>
                  <li><a href="/forums.html">Mailing Lists and Forums</a></li>
                  <li><a href="/organization/minutes.html">Meeting Notes</a></li>
                  <li><a href="/technical_notes.html">Technical Notes</a></li>
                  <li><a href="/organization/documents.html">Documents</a></li>
                  <li><a href="/material_for_presentations.html">Material for presentations</a></li>
                  <li class="divider"></li>
                  <li><a href="/newsletter.html">Newsletters</a></li>
                  <li><a href="/events.html">Events &amp; Workshops</a></li>
                  <li><a href="https://www.youtube.com/c/HEPSoftwareFoundation" target="_hsf_youtube">HSF on YouTube</a></li>
                  <li class="divider"></li>

                  <li><a href="/inventory/inventory.html">HSF Project Inventory</a></li>
                </ul>
            </li>
            <li class="dropdown">
              <a class="dropdown-toggle" data-toggle="dropdown" href="/projects.html" id="projects_menu"><span class="glyphicon glyphicon-road"></span>&nbsp;&nbsp;Projects &amp; Support<span class="caret"></span></a>
                <ul class="dropdown-menu" aria-labelledby="projects_menu">
                  <li><a href="/project_guidelines.html">How to join as a project</a></li>
                  <li><a href="/projects.html">Member Projects</a></li>
                  <li class="divider"></li>
                  <li><a href="/services.html">Development Services</a></li>
                </ul>
            </li>
          </ul>
          <ul class="nav navbar-nav navbar-right">
            <li class="dropdown">
              <a class="dropdown-toggle" data-toggle="dropdown" href="/index.html" id="about_menu"><span class="glyphicon glyphicon-info-sign"></span>&nbsp;&nbsp;About<span class="caret"></span></a>
              <ul class="dropdown-menu" aria-labelledby="about_menu">
                <li><a href="/get_involved.html">Get involved!</a><li>
                <li><a href="/organization/team.html">The Coordination Team</a></li>
                <li><a href="/organization/planning/plan-of-work-2023.html">HSF Planning</a></li>
                <li class="divider"></li>
                <li><a href="/organization/goals.html">Goals of the HSF</a></li>
                <li><a href="/organization/cwp.html">Community White Paper</a></li>
                <li><a href="/organization/hsf-letters.html">Letters from the HSF</a></li>
                <li><a href="/organization/presentations.html">HSF Presentations</a></li>
                <li><a href="/organization/youtube.html">HSF YouTube Channel</a></li>
                <li class="divider"></li>
                <li><a href="/howto-website.html">Website Howto</a></li>
              </ul>
            </li>
          </ul>
        </div>
    </div>
</div>


<div class="container">

  <div class="blog-header">
  <h1 class="blog-title">Integration of the HDF5 file format within the LHCb analysis framework</h1>
</div>

  <h2 id="description">Description</h2>

<p>The <a href="http://lhcb-public.web.cern.ch/lhcb-public/">LHCb experiment</a> software stack is based on the <a href="http://gaudi.web.cern.ch/gaudi/">Gaudi</a> framework, which is designed to provide a common environment for simulation, filtering, reconstruction, and analysis applications for High Energy Physics (HEP) experiments. It uses <a href="https://root.cern.ch/">ROOT</a>, a widely used data analysis framework within the HEP community, as its data format, since it allows for flexible and efficient storage of various types of objects, including complex data structures.</p>

<p>User-level data analysis typically deals with much simpler data structures, namely arrays of values corresponding to particle properties, with one event (or particle candidate) per row, which are stored by the framework as ROOT <code class="language-plaintext highlighter-rouge">TTree</code>s. Traditionally, these trees have been analysed using the ROOT tools, either in C++ or using their Python bindings. But, lately, the advent of high-performance, open-source python scientific computing tools, such as <a href="http://www.numpy.org/">numpy</a> or <a href="https://pandas.pydata.org/">pandas</a>, and powerful machine learning frameworks such as <a href="http://scikit-learn.org/">scikit-learn</a> or <a href="https://www.tensorflow.org/">tensorflow</a>, have shifted the analysis paradigm. This creates the need for an intermediate step where analysis data are converted to HDF format for the use within these tools, making analysis workflows unnecessarily complex.</p>

<p>The GSoC participant will integrate the HDF file format in the Gaudi framework as a possible output for these user-level data analysis tools, thus helping the integration of the python scientific computing tools in the day-to-day arsenal of HEP physicists, and opening the way for more streamlined analysis workflows. Several compression algorithms for HDF file format (blosc, gzip) can be benchmarked and compared with the original ROOT format to choose the most suitable one. If time allows, an implementation of the <a href="https://parquet.apache.org/">Apache Parquet</a> data format, also compatible with pandas, could also be implemented and benchmarked against HDF.</p>

<p>This work has far reaching implications, as the Gaudi framework is used, besides LHCb, by the <a href="http://atlas.web.cern.ch/Atlas/">ATLAS</a> collaboration at CERN, and several other experiments including <a href="http://harp.web.cern.ch/harp/">HARP</a> or <a href="http://bes3.ihep.ac.cn/">BESIII</a>.</p>

<h2 id="task-ideas">Task ideas</h2>

<ul>
  <li>Understand the kind of data HEP physicists produce and what is a possible model for storage in HDF format</li>
  <li>Learn how data conversion services are implemented in Gaudi</li>
  <li>Integrate the HDF C++ API into Gaudi</li>
  <li>Create a conversion service for the output of user-level analysis data</li>
  <li>Create dedicated tests and usage example</li>
  <li>Benchmark the implementation of the HDF format and its compression options vs the standard ROOT implementation</li>
  <li>(Optional) Implement the Apache Parquet file format and benchmark it against HDF and ROOT</li>
</ul>

<h2 id="expected-results">Expected results</h2>

<ul>
  <li>Working implementation, along with tests and documentation</li>
  <li>Performance comparison of HDF vs ROOT with several compression options. If implemented, add Apache Parquet to the comparison.</li>
  <li>Public release of this extension to the Gaudi framework</li>
</ul>

<h2 id="requirements">Requirements</h2>

<ul>
  <li>C++ expertise</li>
  <li>Working experience with git</li>
  <li>Experience with HDF5 and Apache Parquet (optional) would be an advantage</li>
</ul>

<h2 id="mentors">Mentors</h2>

<ul>
  <li><a href="mailto:albert.puig@cern.ch">Albert Puig</a></li>
  <li><a href="mailto:Eduardo.Rodrigues@cern.ch">Eduardo Rodrigues</a></li>
  <li><a href="mailto:Paul.Seyfert@cern.ch">Paul Seyfert</a></li>
</ul>

<h2 id="links">Links</h2>

<ul>
  <li><a href="http://gaudi.web.cern.ch/gaudi/">Gaudi</a></li>
  <li><a href="https://www.hdfgroup.org/">hdfgroup.org</a></li>
</ul>





<h2>Corresponding Project</h2>
  <ul>
      <li><a href="/gsoc/projects/2018/project_LHCb.html">LHCb</a></li>
  </ul>

 <h2>Participating Organizations</h2>
  <ul>
  
<li><a href="/gsoc/organizations/2018/cern.html">CERN</a> </li>
  
<li><a href="/gsoc/organizations/2018/cincinnati.html">Cincinnati</a> </li>
  
<li><a href="/gsoc/organizations/2018/uzh.html">UZH</a> </li>
  
  </ul>


<br><br>
<hr>
<div class="footer fixed-bottom">
<a href="https://github.com/HSF/hsf.github.io/edit/main/_gsocproposals/2018/proposal_LHCbHDF5.md"><i class="glyphicon glyphicon-wrench"></i> Improve this page. </a>
Thanks to <a href="https://pages.github.com/">GitHub Pages</a>, <a href="http://jekyllrb.com/">Jekyll</a> and <a href="http://getbootstrap.com/">Bootstrap</a>.
</div>

</div> <!-- container -->


<!-- Google Analytics -->

<!-- Google Analytics end -->

<script src="https://code.jquery.com/jquery-2.1.4.min.js"></script>
<script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.4/js/bootstrap.min.js"></script>
</body>
</html>
