<!DOCTYPE html>
<html>
<head lang="en">
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1 user-scalable=no">
    <title>HSF Packaging Group Meeting #24, May 16, 2018</title>
    <link rel="icon" type="image/x-icon" href="/images/hsf_logo_angled.png">

    <!-- bootstrap framework -->
    <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootswatch/3.3.5/flatly/bootstrap.min.css">

    <link rel="stylesheet" href="/css/hsf.css" type="text/css" />
</head>
<body>

<div class="navbar navbar-default">
    <div class="container">
        <div class="navbar-header">
          <a href="/" class="navbar-brand"><span class="glyphicon glyphicon-home"></span>&nbsp;&nbsp;HSF</a>
          <button class="navbar-toggle" type="button" data-toggle="collapse" data-target="#navbar-main">
            <span class="icon-bar"></span>
            <span class="icon-bar"></span>
            <span class="icon-bar"></span>
          </button>
        </div>
        <div class="navbar-collapse collapse" id="navbar-main">
          <ul class="nav navbar-nav navbar-center">
            <li class="dropdown">
              <a class="dropdown-toggle" data-toggle="dropdown" href="/index.html" id="wg_menu"><span class="glyphicon glyphicon-briefcase"></span>&nbsp;&nbsp;Working Groups<span class="caret"></span></a>
                <ul class="dropdown-menu" aria-labelledby="activities_menu">
                  <li><a href="/what_are_WGs.html">What are HSF working groups?</a></li>
                  <li class="divider"></li>
                  
                    <li><a href="/workinggroups/dataanalysis.html">Data Analysis</a></li>
                  
                    <li><a href="/workinggroups/detsim.html">Detector Simulation</a></li>
                  
                    <li><a href="/workinggroups/frameworks.html">Frameworks</a></li>
                  
                    <li><a href="/workinggroups/generators.html">Physics Generators</a></li>
                  
                    <li><a href="/workinggroups/juliahep.html">JuliaHEP - Julia in HEP</a></li>
                  
                    <li><a href="/workinggroups/pyhep.html">PyHEP - Python in HEP</a></li>
                  
                    <li><a href="/workinggroups/recotrigger.html">Reconstruction and Software Triggers</a></li>
                  
                    <li><a href="/workinggroups/toolsandpackaging.html">Software Developer Tools and Packaging</a></li>
                  
                    <li><a href="/workinggroups/training.html">HSF Training</a></li>
                  
               </ul>
            </li>
            <li class="dropdown">
              <a class="dropdown-toggle" data-toggle="dropdown" href="/index.html" id="activities_menu"><span class="glyphicon glyphicon-briefcase"></span>&nbsp;&nbsp;Activities<span class="caret"></span></a>
                <ul class="dropdown-menu" aria-labelledby="activities_menu">
                 <li><a href="/what_are_activities.html">What are HSF activity areas?</a></li>
                 <li class="divider"></li>
                 
                   <li><a href="/activities/analysisfacilitiesforum.html">Analysis Facilities Forum</a></li>
                 
                   <li><a href="/activities/conditionsdb.html">Conditions Databases</a></li>
                 
                   <li><a href="/activities/differentiablecomputing.html">Differentiable Computing</a></li>
                 
                   <li><a href="/activities/gsdocs.html">Season of Docs</a></li>
                 
                   <li><a href="/activities/gsoc.html">Google Summer of Code</a></li>
                 
                   <li><a href="/activities/idds.html">intelligent Data Delivery Service</a></li>
                 
                   <li><a href="/activities/licensing.html">Licensing</a></li>
                 
                   <li><a href="/activities/reviews.html">Reviews</a></li>
                 
                   <li><a href="/activities/visualization.html">Visualisation</a></li>
                 
               </ul>
            </li>
            <li class="dropdown">
              <a class="dropdown-toggle" data-toggle="dropdown" href="/index.html" id="meetings_menu"><span class="glyphicon glyphicon-phone-alt"></span>&nbsp;&nbsp;Meetings<span class="caret"></span></a>
                <ul class="dropdown-menu" aria-labelledby="activities_menu">
                 
                   <li><a href="/meetings/compute-accelerator-forum.html">Compute Accelerator Forum</a></li>
                 
                   <li><a href="/meetings/coordination.html">Coordination Meetings</a></li>
                 
                   <li><a href="/meetings/roundtable.html">Software and Computing Roundtable</a></li>
                 
                   <li><a href="/meetings/software-forum.html">Software Forum</a></li>
                 
               </ul>
            </li>
            <li class="dropdown">
              <a class="dropdown-toggle" data-toggle="dropdown" href="/index.html" id="communication_menu"><span class="glyphicon glyphicon-bullhorn"></span>&nbsp;&nbsp;Communication<span class="caret"></span></a>
                <ul class="dropdown-menu" aria-labelledby="communication_menu">
                  <li><a href="/future-events.html">Community Calendar</a></li>
                  <li><a href="https://indico.cern.ch/category/5816/" target="_hsf_indico">Meetings: Indico</a></li>
                  <li><a href="/Schools/events.html">Training Schools</a></li>
                  <li class="divider"></li>
                  <li><a href="/forums.html">Mailing Lists and Forums</a></li>
                  <li><a href="/organization/minutes.html">Meeting Notes</a></li>
                  <li><a href="/technical_notes.html">Technical Notes</a></li>
                  <li><a href="/organization/documents.html">Documents</a></li>
                  <li><a href="/material_for_presentations.html">Material for presentations</a></li>
                  <li class="divider"></li>
                  <li><a href="/newsletter.html">Newsletters</a></li>
                  <li><a href="/events.html">Events &amp; Workshops</a></li>
                  <li><a href="https://www.youtube.com/c/HEPSoftwareFoundation" target="_hsf_youtube">HSF on YouTube</a></li>
                  <li class="divider"></li>

                  <li><a href="/inventory/inventory.html">HSF Project Inventory</a></li>
                </ul>
            </li>
            <li class="dropdown">
              <a class="dropdown-toggle" data-toggle="dropdown" href="/projects.html" id="projects_menu"><span class="glyphicon glyphicon-road"></span>&nbsp;&nbsp;Projects &amp; Support<span class="caret"></span></a>
                <ul class="dropdown-menu" aria-labelledby="projects_menu">
                  <li><a href="/project_guidelines.html">How to join as a project</a></li>
                  <li><a href="/projects.html">Member Projects</a></li>
                  <li class="divider"></li>
                  <li><a href="/services.html">Development Services</a></li>
                </ul>
            </li>
          </ul>
          <ul class="nav navbar-nav navbar-right">
            <li class="dropdown">
              <a class="dropdown-toggle" data-toggle="dropdown" href="/index.html" id="about_menu"><span class="glyphicon glyphicon-info-sign"></span>&nbsp;&nbsp;About<span class="caret"></span></a>
              <ul class="dropdown-menu" aria-labelledby="about_menu">
                <li><a href="/get_involved.html">Get involved!</a><li>
                <li><a href="/organization/team.html">The Coordination Team</a></li>
                <li><a href="/organization/planning/plan-of-work-2023.html">HSF Planning</a></li>
                <li class="divider"></li>
                <li><a href="/organization/goals.html">Goals of the HSF</a></li>
                <li><a href="/organization/cwp.html">Community White Paper</a></li>
                <li><a href="/organization/hsf-letters.html">Letters from the HSF</a></li>
                <li><a href="/organization/presentations.html">HSF Presentations</a></li>
                <li><a href="/organization/youtube.html">HSF YouTube Channel</a></li>
                <li class="divider"></li>
                <li><a href="/howto-website.html">Website Howto</a></li>
              </ul>
            </li>
          </ul>
        </div>
    </div>
</div>


<div class="container">

<div class="PageNavigation">

  <!-- Note that page sorting is reverse time ordered, so "next" refers to the previous
       meeting in time and "previous" to the next one -->
  
   <p class="alignleft"><a href="/organization/2018/05/09/licensing.html">&nbsp;&#8592; HSF Licensing Meeting, 9 May, 2018</a></p>
  

  
    <p class="alignright"><a href="/organization/2018/05/17/coordination.html">HSF Weekly Meeting #136, 17 May, 2018 &#8594;&nbsp;</a></p>
  

</div>

<div style="clear: both;"></div>


<hr>

  <h1 id="hsf-packaging-group-meeting-24-may-16-2018">HSF Packaging Group Meeting #24, May 16, 2018</h1>

<h1 id="agenda">Agenda</h1>
<p><a href="https://indico.cern.ch/event/727088/">https://indico.cern.ch/event/727088/</a></p>

<p>Participants: Graeme Stewart, Ben Morgan, Oana Boeriu, Patrick Gartung, Chris Burr, Rafal Pacholek, Javier Cervantes Villanueva, Guilherme Amadio, Chris Green</p>

<h1 id="introduction---graeme"><a href="https://indico.cern.ch/event/727088/contributions/2992555/attachments/1643141/2640438/HSF_Packaging_Group_Intro_2018-05-16.pdf">Introduction - Graeme</a></h1>
<ul>
  <li>Follow on from micro-architecture builds: Ben has <a href="https://github.com/HSF/packaging/tree/master/istools">link on HSF/packaging github</a> to discuss this/collate information. PRs to update welcome!</li>
  <li><a href="http://hepsoftwarefoundation.org/technical_notes.html">HSF tech note on naming build platforms</a> promoted to consultation document
    <ul>
      <li>Needs people to take a look and finalise</li>
      <li>E.g., Add micro-microarchitecture piece, compiler release numbers (e.g. for GCC only major version should matter now)</li>
      <li>How to comment/edit? To check, but probably on HSF/technotes GitHub.</li>
    </ul>
  </li>
  <li>Graeme: Overview on <a href="https://indico.cern.ch/event/719851/">Guix Cern Computing Seminar</a> (pronounced “gix”!)
    <ul>
      <li>No slides, but link to recording available</li>
      <li>Nutshell: very similar to nix in how packages built, hashed.</li>
      <li>High reproducibility (up to 95% bitwise identical).</li>
      <li>Nix-style runtime env setup</li>
      <li>Everything lives under <code class="language-plaintext highlighter-rouge">/guix</code> (must be writable, user builds supported by daemon). Binary builds supported, but not relocatable (prefix enters package hash).</li>
      <li>User Base: mostly HPC, big shared filesystems user are close to (Graeme commented at seminar that typical HEP case is different; CVMFS etc)</li>
      <li>Good points like Nix: reproducibility, user control, composability (overlays)</li>
      <li>Differences: Scheme language vs Nix DSL (claimed Scheme makes use/extension easier). No mention of license</li>
      <li>Interesting for us? Yes, but lives very close to Nix. Limited resources, so not a priority unless someone wants to take it on. Maybe more important if we move in a Nix-like direction. Then differences between Nix DSL vs Scheme, for example, would be more relevant to investigate.</li>
      <li>Some observations: seems to have smaller package base than Nix, no apparent macOS distribution (but might build from source).</li>
    </ul>
  </li>
  <li><a href="https://indico.cern.ch/event/587955/timetable/#20180709">CHEP timetable now available</a>
    <ul>
      <li><a href="https://indico.cern.ch/event/587955/sessions/266674/#20180711">Our packaging talk</a> followed by two Spack talks (one by Chris Green, one by IceCube)</li>
      <li>Guilherme: will have a <a href="https://indico.cern.ch/event/587955/contributions/2938043/">talk on robust binaries</a> (RPATH, how linker finds libraries etc).</li>
    </ul>
  </li>
  <li>Today: Test Drive Round Table</li>
  <li>SFT LIM Workshop in two weeks, so next meeting 13th June.</li>
  <li>Just let Graeme and Ben know of any material you’d like to present.</li>
</ul>

<h1 id="test-driving-round-table---ben-all"><a href="https://indico.cern.ch/event/727088/contributions/2992556/attachments/1643140/2640160/HSF-TestStack.pdf">Test Driving Round Table - Ben, all</a></h1>
<ul>
  <li>Ben:
    <ul>
      <li><a href="https://github.com/HSF/packaging/tree/master/testdrive">Github repo</a> has been updated with more instructions and guidance</li>
      <li>One directory per packager</li>
      <li>Overall README and a template for each specific tool</li>
      <li>Walk through the minimum packages and versions</li>
      <li>Demonstrate basic functionality first</li>
      <li>Template can be filled in so that each package manager is well described and easy to use by the non-expert test driver</li>
    </ul>
  </li>
  <li>Graeme: time limited on progress on Nix due to meetings and travel.</li>
  <li>Chris Burr: With Nix, now packaging LHCb up to reconstruction packages.</li>
  <li>Javier - has discussed with Patrick which repo to use for package descriptions. HSF looks the best. CERN one is very out of date.</li>
  <li>Patrick has built most of the CMSSW stack, most updates went into HSF. Chris has been adding more versions, PRs going directly upstream into Spack. There is a FNAL fork that has useful changes to Spack itself and to some of the packages.
    <ul>
      <li>Could add that information to packaging github repo, so that people could find it.</li>
      <li>Shazad has been working on a tool to convert SCRAM-&gt;CMake configurations. However, resulting CMake configuration step was taking too long for CMS (10 minutes). CMake 3.11 improved the situation. Ninja target was faster than make. Some technical improvements being worked on.</li>
    </ul>
  </li>
  <li>Ben: Giulio has submitted a PR for an <a href="https://github.com/HSF/packaging/pull/12">aliBuild testdrive</a>. Comments/Review by all welcome!</li>
  <li>Guilherme - wants to make a special container for the Portage. Will put information on the website.</li>
</ul>

<h1 id="aob">AOB</h1>
<ul>
  <li>Due to the <a href="https://indico.cern.ch/event/720948/">LIM workshop on 30 May</a> the next meeting will be on the <a href="https://indico.cern.ch/event/730538/">13th June</a></li>
  <li>Noted the <a href="https://hub.docker.com/u/hepsoftwarefoundation">“hepsoftwarefoundation” user on DockerHub</a> : Ask Graeme if you want to be added here to add images for test driving, etc.</li>
</ul>



<hr>

<div class="PageNavigation">

  <!-- Note that page sorting is reverse time ordered, so "next" refers to the previous
       meeting in time and "previous" to the next one -->
  
   <p class="alignleft"><a href="/organization/2018/05/09/licensing.html">&nbsp;&#8592; HSF Licensing Meeting, 9 May, 2018</a></p>
  

  
    <p class="alignright"><a href="/organization/2018/05/17/coordination.html">HSF Weekly Meeting #136, 17 May, 2018 &#8594;&nbsp;</a></p>
  

</div>

<div style="clear: both;"></div>


<br><br>
<div class="footer fixed-bottom">
Thanks to <a href="https://pages.github.com/">GitHub Pages</a>, <a href="http://jekyllrb.com/">Jekyll</a> and <a href="http://getbootstrap.com/">Bootstrap</a>
</div>

</div> <!-- container -->


<!-- Google Analytics -->

<!-- Google Analytics end -->

<script src="https://code.jquery.com/jquery-2.1.4.min.js"></script>
<script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.4/js/bootstrap.min.js"></script>
</body>
</html>
