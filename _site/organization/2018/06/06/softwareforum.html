<!DOCTYPE html>
<html>
<head lang="en">
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1 user-scalable=no">
    <title>HSF Software Forum, 6 June, 2018</title>
    <link rel="icon" type="image/x-icon" href="/images/hsf_logo_angled.png">

    <!-- bootstrap framework -->
    <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootswatch/3.3.5/flatly/bootstrap.min.css">

    <link rel="stylesheet" href="/css/hsf.css" type="text/css" />
</head>
<body>

<div class="navbar navbar-default">
    <div class="container">
        <div class="navbar-header">
          <a href="/" class="navbar-brand"><span class="glyphicon glyphicon-home"></span>&nbsp;&nbsp;HSF</a>
          <button class="navbar-toggle" type="button" data-toggle="collapse" data-target="#navbar-main">
            <span class="icon-bar"></span>
            <span class="icon-bar"></span>
            <span class="icon-bar"></span>
          </button>
        </div>
        <div class="navbar-collapse collapse" id="navbar-main">
          <ul class="nav navbar-nav navbar-center">
            <li class="dropdown">
              <a class="dropdown-toggle" data-toggle="dropdown" href="/index.html" id="wg_menu"><span class="glyphicon glyphicon-briefcase"></span>&nbsp;&nbsp;Working Groups<span class="caret"></span></a>
                <ul class="dropdown-menu" aria-labelledby="activities_menu">
                  <li><a href="/what_are_WGs.html">What are HSF working groups?</a></li>
                  <li class="divider"></li>
                  
                    <li><a href="/workinggroups/dataanalysis.html">Data Analysis</a></li>
                  
                    <li><a href="/workinggroups/detsim.html">Detector Simulation</a></li>
                  
                    <li><a href="/workinggroups/frameworks.html">Frameworks</a></li>
                  
                    <li><a href="/workinggroups/generators.html">Physics Generators</a></li>
                  
                    <li><a href="/workinggroups/juliahep.html">JuliaHEP - Julia in HEP</a></li>
                  
                    <li><a href="/workinggroups/pyhep.html">PyHEP - Python in HEP</a></li>
                  
                    <li><a href="/workinggroups/recotrigger.html">Reconstruction and Software Triggers</a></li>
                  
                    <li><a href="/workinggroups/toolsandpackaging.html">Software Developer Tools and Packaging</a></li>
                  
                    <li><a href="/workinggroups/training.html">HSF Training</a></li>
                  
               </ul>
            </li>
            <li class="dropdown">
              <a class="dropdown-toggle" data-toggle="dropdown" href="/index.html" id="activities_menu"><span class="glyphicon glyphicon-briefcase"></span>&nbsp;&nbsp;Activities<span class="caret"></span></a>
                <ul class="dropdown-menu" aria-labelledby="activities_menu">
                 <li><a href="/what_are_activities.html">What are HSF activity areas?</a></li>
                 <li class="divider"></li>
                 
                   <li><a href="/activities/analysisfacilitiesforum.html">Analysis Facilities Forum</a></li>
                 
                   <li><a href="/activities/conditionsdb.html">Conditions Databases</a></li>
                 
                   <li><a href="/activities/differentiablecomputing.html">Differentiable Computing</a></li>
                 
                   <li><a href="/activities/gsdocs.html">Season of Docs</a></li>
                 
                   <li><a href="/activities/gsoc.html">Google Summer of Code</a></li>
                 
                   <li><a href="/activities/idds.html">intelligent Data Delivery Service</a></li>
                 
                   <li><a href="/activities/licensing.html">Licensing</a></li>
                 
                   <li><a href="/activities/reviews.html">Reviews</a></li>
                 
                   <li><a href="/activities/visualization.html">Visualisation</a></li>
                 
               </ul>
            </li>
            <li class="dropdown">
              <a class="dropdown-toggle" data-toggle="dropdown" href="/index.html" id="meetings_menu"><span class="glyphicon glyphicon-phone-alt"></span>&nbsp;&nbsp;Meetings<span class="caret"></span></a>
                <ul class="dropdown-menu" aria-labelledby="activities_menu">
                 
                   <li><a href="/meetings/compute-accelerator-forum.html">Compute Accelerator Forum</a></li>
                 
                   <li><a href="/meetings/coordination.html">Coordination Meetings</a></li>
                 
                   <li><a href="/meetings/roundtable.html">Software and Computing Roundtable</a></li>
                 
                   <li><a href="/meetings/software-forum.html">Software Forum</a></li>
                 
               </ul>
            </li>
            <li class="dropdown">
              <a class="dropdown-toggle" data-toggle="dropdown" href="/index.html" id="communication_menu"><span class="glyphicon glyphicon-bullhorn"></span>&nbsp;&nbsp;Communication<span class="caret"></span></a>
                <ul class="dropdown-menu" aria-labelledby="communication_menu">
                  <li><a href="/future-events.html">Community Calendar</a></li>
                  <li><a href="https://indico.cern.ch/category/5816/" target="_hsf_indico">Meetings: Indico</a></li>
                  <li><a href="/Schools/events.html">Training Schools</a></li>
                  <li class="divider"></li>
                  <li><a href="/forums.html">Mailing Lists and Forums</a></li>
                  <li><a href="/organization/minutes.html">Meeting Notes</a></li>
                  <li><a href="/technical_notes.html">Technical Notes</a></li>
                  <li><a href="/organization/documents.html">Documents</a></li>
                  <li><a href="/material_for_presentations.html">Material for presentations</a></li>
                  <li class="divider"></li>
                  <li><a href="/newsletter.html">Newsletters</a></li>
                  <li><a href="/events.html">Events &amp; Workshops</a></li>
                  <li><a href="https://www.youtube.com/c/HEPSoftwareFoundation" target="_hsf_youtube">HSF on YouTube</a></li>
                  <li class="divider"></li>

                  <li><a href="/inventory/inventory.html">HSF Project Inventory</a></li>
                </ul>
            </li>
            <li class="dropdown">
              <a class="dropdown-toggle" data-toggle="dropdown" href="/projects.html" id="projects_menu"><span class="glyphicon glyphicon-road"></span>&nbsp;&nbsp;Projects &amp; Support<span class="caret"></span></a>
                <ul class="dropdown-menu" aria-labelledby="projects_menu">
                  <li><a href="/project_guidelines.html">How to join as a project</a></li>
                  <li><a href="/projects.html">Member Projects</a></li>
                  <li class="divider"></li>
                  <li><a href="/services.html">Development Services</a></li>
                </ul>
            </li>
          </ul>
          <ul class="nav navbar-nav navbar-right">
            <li class="dropdown">
              <a class="dropdown-toggle" data-toggle="dropdown" href="/index.html" id="about_menu"><span class="glyphicon glyphicon-info-sign"></span>&nbsp;&nbsp;About<span class="caret"></span></a>
              <ul class="dropdown-menu" aria-labelledby="about_menu">
                <li><a href="/get_involved.html">Get involved!</a><li>
                <li><a href="/organization/team.html">The Coordination Team</a></li>
                <li><a href="/organization/planning/plan-of-work-2023.html">HSF Planning</a></li>
                <li class="divider"></li>
                <li><a href="/organization/goals.html">Goals of the HSF</a></li>
                <li><a href="/organization/cwp.html">Community White Paper</a></li>
                <li><a href="/organization/hsf-letters.html">Letters from the HSF</a></li>
                <li><a href="/organization/presentations.html">HSF Presentations</a></li>
                <li><a href="/organization/youtube.html">HSF YouTube Channel</a></li>
                <li class="divider"></li>
                <li><a href="/howto-website.html">Website Howto</a></li>
              </ul>
            </li>
          </ul>
        </div>
    </div>
</div>


<div class="container">

<div class="PageNavigation">

  <!-- Note that page sorting is reverse time ordered, so "next" refers to the previous
       meeting in time and "previous" to the next one -->
  
   <p class="alignleft"><a href="/organization/2018/05/31/coordination.html">&nbsp;&#8592; HSF Weekly Meeting #138, 31 May, 2018</a></p>
  

  
    <p class="alignright"><a href="/organization/2018/06/07/coordination.html">HSF Weekly Meeting #139, 7 June, 2018 &#8594;&nbsp;</a></p>
  

</div>

<div style="clear: both;"></div>


<hr>

  <h1 id="hsf-software-forum-6-june-2018">HSF Software Forum, 6 June, 2018</h1>

<p><a href="https://indico.cern.ch/event/733268/">Meeting Agenda and Slides</a></p>

<h1 id="dd4hep-and-dd-tools">DD4hep and DD* tools</h1>
<ul>
  <li>Tommaso - any comparison numbers for speed with other geometry
toolkits?
    <ul>
      <li>A. Actually mostly delegated - very dependent on ROOT toolkit speed, or the handling in
G4.</li>
    </ul>
  </li>
  <li>Alberto - what about memory consumption?
    <ul>
      <li>A. Yes, we have two representations after conversion to G4 and we
do keep them right now. However, it is possible to drop an unused representation
if that’s required.</li>
    </ul>
  </li>
  <li>Are the XML files the only way to persistify the description?
    <ul>
      <li>A. Compact description is the “native” way to populate the geometry. However
there are other plugins, e.g., LHCb or CMS plugins that can read
from the experiment detector databases and build the geometry from
there. Could have other ways too, e.g., CAD importer.</li>
    </ul>
  </li>
  <li>Dario - Visualisation is really useful on the web. three.js on the web is great
and optimised for GPUs -
could you translate into JSON to use that?
    <ul>
      <li>A. Yes, via ROOT
description and export. Noted
that ROOT visualisation uses WebGL, so when GPUs are available they do get used.</li>
      <li>Philosophy is that DD4hep not intending to replace visualisation that exists in ROOT,
where a good job is done already.</li>
      <li>LHCb experience was that when ROOT to three.js conversion was done,  it was a bit limited compared
to ROOT’s javascript. Simplified geometry
better for the web anyway - not all details useful or needed.</li>
    </ul>
  </li>
  <li>How to handle sensitive detectors from other sources?
    <ul>
      <li>A. This is done
via the plugin, if it populates things properly. Seems quite easy
to do.</li>
      <li>IOV alignment corrections are for reconstruction. Simulation uses global
re-alignments. TGeo can do sanity checks for you for overlap and there are
other toolkits that can help to.</li>
    </ul>
  </li>
  <li>Ben M - For a small experiment to evaluate I would need to write a
converter from the current description to DD4hep.
    <ul>
      <li>A. Yes.</li>
    </ul>
  </li>
</ul>

<h1 id="cms-migration">CMS Migration</h1>
<ul>
  <li>First exercise to try DD4hep went very well, thanks to support from
Markus and the other developers.</li>
  <li>Now want to convert in time to do Run3 production in 2019.</li>
  <li>Added unions and subtractions (booleans) - now validating. Truncated
tube, etc. These are all converted into correct primitive shapes after
input.</li>
  <li>Pere - Are there 2M Volumes?
    <ul>
      <li>No, actually 2M nodes, only about 4k independent
volumes.</li>
    </ul>
  </li>
  <li>For memory use, could remove the TGeo geometry as
it’s is not needed to do simulation, but it’s only
15-20MB.</li>
  <li>Some concerns about loss of precision between representations.</li>
  <li>Some caution needed to be consistent with units (cm vs. mm). CGS was
the “original” HEP units. Geometry doesn’t care, but density and
radiation length matters! Could offer updated code in ROOT, using
mm? (Global switch?)</li>
  <li>Foresee that ROOT can use VecGeom, but would need a lot of new
functionality to fully exploit it, e.g., to support navigation.</li>
  <li>What’s the motivation to move to DD4hep?
    <ul>
      <li>A. Can review and revise the code (that’s 20 years old).</li>
      <li>Daniel - as well as some CMS internal reasons that make now a
good time to change, we want to have sustainability and support into the future.
We want to support common software as the way to go forwards.</li>
    </ul>
  </li>
</ul>


<hr>

<div class="PageNavigation">

  <!-- Note that page sorting is reverse time ordered, so "next" refers to the previous
       meeting in time and "previous" to the next one -->
  
   <p class="alignleft"><a href="/organization/2018/05/31/coordination.html">&nbsp;&#8592; HSF Weekly Meeting #138, 31 May, 2018</a></p>
  

  
    <p class="alignright"><a href="/organization/2018/06/07/coordination.html">HSF Weekly Meeting #139, 7 June, 2018 &#8594;&nbsp;</a></p>
  

</div>

<div style="clear: both;"></div>


<br><br>
<div class="footer fixed-bottom">
Thanks to <a href="https://pages.github.com/">GitHub Pages</a>, <a href="http://jekyllrb.com/">Jekyll</a> and <a href="http://getbootstrap.com/">Bootstrap</a>
</div>

</div> <!-- container -->


<!-- Google Analytics -->

<!-- Google Analytics end -->

<script src="https://code.jquery.com/jquery-2.1.4.min.js"></script>
<script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.4/js/bootstrap.min.js"></script>
</body>
</html>
